<div class="container">
  <div class="row justify-content-center">
    <div class="col-12">
      <div class="card mt-4 shadow">
        <div class="card-body p-3">
          <h5>Insira abaixo a quantidade de Autores</h5>
          <hr />
          <form>
            <div class="form-group">
              <label>Número de Autores:</label>
              <input #quantidade type="number" (keyup.enter)="criaAutores(quantidade.value)" class="form-control"
                placeholder="Digite a quantidade de Autores" [disabled]="listagem" />
              <small class="text-muted">Pressione <b class="text-info">ENTER</b> para confirmar a quantidade de
                autores</small>
            </div>
          </form>
          <button [disabled]="listagem" (click)="toogleLista()" class="btn btn-info float-right text-uppercase">Visualizar lista de
            Autores</button>
        </div>
      </div>
      <div class="card mt-4 mb-4 shadow" *ngIf="autores.length > 0 && !listagem">
        <div class="card-body p-3">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nome do Autor</th>
                <th scope="col">Nome estilizado</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let autor of autores;let index = index;">
                <th scope="row">{{autor.id}}</th>
                <td>
                  <input type="text" name="autor-{{index}}" [(ngModel)]="autor.nome" class="form-control"
                    placeholder="Digite o nome do {{index + 1}}° Autor" disabled={{enviando}} />
                </td>
                <td>{{autor.nome | nomebbgf}}</td>
              </tr>
            </tbody>
          </table>
          <button (click)="enviarAutores()" [disabled]="formValidator()"
            class="btn btn-info text-uppercase float-right"><i class="fas fa-save"></i><strong>
              Salvar {{autores.length}} autores</strong></button>
        </div>
      </div>
      <div class="card mt-4 mb-4 shadow" *ngIf="listagem">
        <div class="card-body p-3">
          <button (click)="toogleLista()" class="close" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <table class="table table-striped" *ngIf="listaAutores.length > 0">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nome do Autor</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let autor of listaAutores;">
                <th scope="row">{{autor.idAutores}}</th>
                <td >{{autor.nome | nomebbgf}}</td>
              </tr>
            </tbody>
          </table>
          <div class="alert alert-primary text-center text-uppercase mt-5" role="alert" *ngIf="listaAutores.length == 0">
            Não foi encontrado nenhum Autor na nossa base de dados
          </div>
        </div>
      </div>
    </div>
  </div>
</div>